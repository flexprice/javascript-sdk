/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { creditNotesCreateCreditNote } from "../funcs/creditNotesCreateCreditNote.js";
import { creditNotesGetCreditNote } from "../funcs/creditNotesGetCreditNote.js";
import { creditNotesProcessCreditNote } from "../funcs/creditNotesProcessCreditNote.js";
import { creditNotesVoidCreditNote } from "../funcs/creditNotesVoidCreditNote.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import { unwrapAsync } from "../types/fp.js";
import * as models from "./models/index.js";

export class CreditNotes extends ClientSDK {
  /**
   * Create credit note
   *
   * @remarks
   * Use when issuing a refund or adjustment (e.g. customer dispute or proration). Links to an invoice; create as draft then finalize.
   */
  async createCreditNote(
    request: models.DtoCreateCreditNoteRequest,
    options?: RequestOptions,
  ): Promise<models.CreateCreditNoteResponse> {
    return unwrapAsync(creditNotesCreateCreditNote(
      this,
      request,
      options,
    ));
  }

  /**
   * Get credit note
   *
   * @remarks
   * Use when you need to load a single credit note (e.g. for display or reconciliation).
   */
  async getCreditNote(
    request: models.GetCreditNoteRequest,
    options?: RequestOptions,
  ): Promise<models.GetCreditNoteResponse> {
    return unwrapAsync(creditNotesGetCreditNote(
      this,
      request,
      options,
    ));
  }

  /**
   * Finalize credit note
   *
   * @remarks
   * Use when locking a draft credit note and applying the credit (e.g. after approval). Once finalized, applied per billing provider.
   */
  async processCreditNote(
    request: models.ProcessCreditNoteRequest,
    options?: RequestOptions,
  ): Promise<models.ProcessCreditNoteResponse> {
    return unwrapAsync(creditNotesProcessCreditNote(
      this,
      request,
      options,
    ));
  }

  /**
   * Void credit note
   *
   * @remarks
   * Use when cancelling a draft credit note (e.g. created by mistake). Only draft credit notes can be voided.
   */
  async voidCreditNote(
    request: models.VoidCreditNoteRequest,
    options?: RequestOptions,
  ): Promise<models.VoidCreditNoteResponse> {
    return unwrapAsync(creditNotesVoidCreditNote(
      this,
      request,
      options,
    ));
  }
}
