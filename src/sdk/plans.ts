/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { plansCreatePlan } from "../funcs/plansCreatePlan.js";
import { plansDeletePlan } from "../funcs/plansDeletePlan.js";
import { plansGetPlan } from "../funcs/plansGetPlan.js";
import { plansPostPlansIdClone } from "../funcs/plansPostPlansIdClone.js";
import { plansQueryPlan } from "../funcs/plansQueryPlan.js";
import { plansSyncPlanPrices } from "../funcs/plansSyncPlanPrices.js";
import { plansUpdatePlan } from "../funcs/plansUpdatePlan.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import { unwrapAsync } from "../types/fp.js";
import * as models from "./models/index.js";

export class Plans extends ClientSDK {
  /**
   * Create plan
   *
   * @remarks
   * Use when defining a new pricing plan (e.g. Free, Pro, Enterprise). Attach prices and entitlements; customers subscribe to plans.
   */
  async createPlan(
    request: models.DtoCreatePlanRequest,
    options?: RequestOptions,
  ): Promise<models.CreatePlanResponse> {
    return unwrapAsync(plansCreatePlan(
      this,
      request,
      options,
    ));
  }

  /**
   * Query plans
   *
   * @remarks
   * Use when listing or searching plans (e.g. plan picker or admin catalog). Returns a paginated list; supports filtering and sorting.
   */
  async queryPlan(
    request: models.PlanFilter,
    options?: RequestOptions,
  ): Promise<models.QueryPlanResponse> {
    return unwrapAsync(plansQueryPlan(
      this,
      request,
      options,
    ));
  }

  /**
   * Get plan
   *
   * @remarks
   * Use when you need to load a single plan (e.g. for display or to create a subscription).
   */
  async getPlan(
    request: models.GetPlanRequest,
    options?: RequestOptions,
  ): Promise<models.GetPlanResponse> {
    return unwrapAsync(plansGetPlan(
      this,
      request,
      options,
    ));
  }

  /**
   * Update plan
   *
   * @remarks
   * Use when changing plan details (e.g. name, interval, or metadata). Partial update supported.
   */
  async updatePlan(
    request: models.UpdatePlanRequest,
    options?: RequestOptions,
  ): Promise<models.UpdatePlanResponse> {
    return unwrapAsync(plansUpdatePlan(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete plan
   *
   * @remarks
   * Use when retiring a plan (e.g. end-of-life). Existing subscriptions may be affected. Returns 200 with success message.
   */
  async deletePlan(
    request: models.DeletePlanRequest,
    options?: RequestOptions,
  ): Promise<models.DeletePlanResponse> {
    return unwrapAsync(plansDeletePlan(
      this,
      request,
      options,
    ));
  }

  /**
   * Clone a plan
   *
   * @remarks
   * Clone an existing plan, copying its active prices, published entitlements, and published credit grants
   */
  async postPlansIdClone(
    request: models.PostPlansIdCloneRequest,
    options?: RequestOptions,
  ): Promise<models.PostPlansIdCloneResponse> {
    return unwrapAsync(plansPostPlansIdClone(
      this,
      request,
      options,
    ));
  }

  /**
   * Synchronize plan prices
   *
   * @remarks
   * Use when you have changed plan prices and need to push them to all active subscriptions (e.g. global price update). Returns workflow ID.
   */
  async syncPlanPrices(
    request: models.SyncPlanPricesRequest,
    options?: RequestOptions,
  ): Promise<models.SyncPlanPricesResponse> {
    return unwrapAsync(plansSyncPlanPrices(
      this,
      request,
      options,
    ));
  }
}
