/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import {
  CommitmentInfo,
  CommitmentInfo$inboundSchema,
} from "./commitmentinfo.js";
import {
  DtoSourceUsageItem,
  DtoSourceUsageItem$inboundSchema,
} from "./dtosourceusageitem.js";
import {
  DtoUsageBreakdownItem,
  DtoUsageBreakdownItem$inboundSchema,
} from "./dtousagebreakdownitem.js";
import { SDKValidationError } from "./sdkvalidationerror.js";
import { Status, Status$inboundSchema } from "./status.js";

export type DtoInvoiceLineItemResponse = {
  amount?: string | undefined;
  commitmentInfo?: CommitmentInfo | undefined;
  createdAt?: string | undefined;
  createdBy?: string | undefined;
  currency?: string | undefined;
  customerId?: string | undefined;
  displayName?: string | undefined;
  entityId?: string | undefined;
  entityType?: string | undefined;
  environmentId?: string | undefined;
  id?: string | undefined;
  invoiceId?: string | undefined;
  /**
   * invoice_level_discount is the discount amount in invoice currency applied to all line items on the invoice.
   */
  invoiceLevelDiscount?: string | undefined;
  /**
   * line_item_discount is the discount amount in invoice currency applied directly to this line item.
   */
  lineItemDiscount?: string | undefined;
  metadata?: { [k: string]: string } | undefined;
  meterDisplayName?: string | undefined;
  meterId?: string | undefined;
  periodEnd?: string | undefined;
  periodStart?: string | undefined;
  planDisplayName?: string | undefined;
  /**
   * prepaid_credits_applied is the amount in invoice currency reduced from this line item due to prepaid credits application.
   */
  prepaidCreditsApplied?: string | undefined;
  priceId?: string | undefined;
  priceType?: string | undefined;
  priceUnit?: string | undefined;
  priceUnitAmount?: string | undefined;
  priceUnitId?: string | undefined;
  quantity?: string | undefined;
  status?: Status | undefined;
  subscriptionId?: string | undefined;
  tenantId?: string | undefined;
  updatedAt?: string | undefined;
  updatedBy?: string | undefined;
  /**
   * usage_analytics contains usage analytics for this line item (legacy - grouped by source)
   */
  usageAnalytics?: Array<DtoSourceUsageItem> | undefined;
  /**
   * usage_breakdown contains flexible usage breakdown for this line item (supports any grouping)
   */
  usageBreakdown?: Array<DtoUsageBreakdownItem> | undefined;
};

/** @internal */
export const DtoInvoiceLineItemResponse$inboundSchema: z.ZodType<
  DtoInvoiceLineItemResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  amount: z.string().optional(),
  commitment_info: CommitmentInfo$inboundSchema.optional(),
  created_at: z.string().optional(),
  created_by: z.string().optional(),
  currency: z.string().optional(),
  customer_id: z.string().optional(),
  display_name: z.string().optional(),
  entity_id: z.string().optional(),
  entity_type: z.string().optional(),
  environment_id: z.string().optional(),
  id: z.string().optional(),
  invoice_id: z.string().optional(),
  invoice_level_discount: z.string().optional(),
  line_item_discount: z.string().optional(),
  metadata: z.record(z.string()).optional(),
  meter_display_name: z.string().optional(),
  meter_id: z.string().optional(),
  period_end: z.string().optional(),
  period_start: z.string().optional(),
  plan_display_name: z.string().optional(),
  prepaid_credits_applied: z.string().optional(),
  price_id: z.string().optional(),
  price_type: z.string().optional(),
  price_unit: z.string().optional(),
  price_unit_amount: z.string().optional(),
  price_unit_id: z.string().optional(),
  quantity: z.string().optional(),
  status: Status$inboundSchema.optional(),
  subscription_id: z.string().optional(),
  tenant_id: z.string().optional(),
  updated_at: z.string().optional(),
  updated_by: z.string().optional(),
  usage_analytics: z.array(DtoSourceUsageItem$inboundSchema).optional(),
  usage_breakdown: z.array(DtoUsageBreakdownItem$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "commitment_info": "commitmentInfo",
    "created_at": "createdAt",
    "created_by": "createdBy",
    "customer_id": "customerId",
    "display_name": "displayName",
    "entity_id": "entityId",
    "entity_type": "entityType",
    "environment_id": "environmentId",
    "invoice_id": "invoiceId",
    "invoice_level_discount": "invoiceLevelDiscount",
    "line_item_discount": "lineItemDiscount",
    "meter_display_name": "meterDisplayName",
    "meter_id": "meterId",
    "period_end": "periodEnd",
    "period_start": "periodStart",
    "plan_display_name": "planDisplayName",
    "prepaid_credits_applied": "prepaidCreditsApplied",
    "price_id": "priceId",
    "price_type": "priceType",
    "price_unit": "priceUnit",
    "price_unit_amount": "priceUnitAmount",
    "price_unit_id": "priceUnitId",
    "subscription_id": "subscriptionId",
    "tenant_id": "tenantId",
    "updated_at": "updatedAt",
    "updated_by": "updatedBy",
    "usage_analytics": "usageAnalytics",
    "usage_breakdown": "usageBreakdown",
  });
});

export function dtoInvoiceLineItemResponseFromJSON(
  jsonString: string,
): SafeParseResult<DtoInvoiceLineItemResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DtoInvoiceLineItemResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DtoInvoiceLineItemResponse' from JSON`,
  );
}
