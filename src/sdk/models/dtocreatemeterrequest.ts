/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import {
  MeterAggregation,
  MeterAggregation$Outbound,
  MeterAggregation$outboundSchema,
} from "./meteraggregation.js";
import {
  MeterFilter,
  MeterFilter$Outbound,
  MeterFilter$outboundSchema,
} from "./meterfilter.js";
import { ResetUsage, ResetUsage$outboundSchema } from "./resetusage.js";

export type DtoCreateMeterRequest = {
  aggregation: MeterAggregation;
  eventName: string;
  filters?: Array<MeterFilter> | undefined;
  name: string;
  resetUsage: ResetUsage;
};

/** @internal */
export type DtoCreateMeterRequest$Outbound = {
  aggregation: MeterAggregation$Outbound;
  event_name: string;
  filters?: Array<MeterFilter$Outbound> | undefined;
  name: string;
  reset_usage: string;
};

/** @internal */
export const DtoCreateMeterRequest$outboundSchema: z.ZodType<
  DtoCreateMeterRequest$Outbound,
  z.ZodTypeDef,
  DtoCreateMeterRequest
> = z.object({
  aggregation: MeterAggregation$outboundSchema,
  eventName: z.string(),
  filters: z.array(MeterFilter$outboundSchema).optional(),
  name: z.string(),
  resetUsage: ResetUsage$outboundSchema,
}).transform((v) => {
  return remap$(v, {
    eventName: "event_name",
    resetUsage: "reset_usage",
  });
});

export function dtoCreateMeterRequestToJSON(
  dtoCreateMeterRequest: DtoCreateMeterRequest,
): string {
  return JSON.stringify(
    DtoCreateMeterRequest$outboundSchema.parse(dtoCreateMeterRequest),
  );
}
