/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { PauseMode, PauseMode$outboundSchema } from "./pause-mode.js";

/**
 * Request object for pausing an active subscription with various pause modes and options
 */
export type DtoPauseSubscriptionRequest = {
  /**
   * Whether to perform a dry run
   *
   * @remarks
   * @Description If true, validates the request and shows impact without actually pausing the subscription
   * @Example false
   */
  dryRun?: boolean | undefined;
  /**
   * Additional metadata as key-value pairs
   *
   * @remarks
   * @Description Optional metadata for storing additional information about the pause
   * @Example {"requested_by": "customer", "channel": "support_ticket"}
   */
  metadata?: { [k: string]: string } | undefined;
  /**
   * Duration of the pause in days
   *
   * @remarks
   * @Description Number of days to pause the subscription. Cannot be used together with pause_end. Must be greater than 0
   * @Example 30
   */
  pauseDays?: number | undefined;
  /**
   * End date for the subscription pause
   *
   * @remarks
   * @Description ISO 8601 timestamp when the pause should end. Cannot be used together with pause_days. Must be after pause_start
   * @Example "2024-02-15T00:00:00Z"
   */
  pauseEnd?: string | undefined;
  pauseMode: PauseMode;
  /**
   * Start date for the subscription pause
   *
   * @remarks
   * @Description ISO 8601 timestamp when the pause should begin. Required when pause_mode is "scheduled"
   * @Example "2024-01-15T00:00:00Z"
   */
  pauseStart?: string | undefined;
  /**
   * Reason for pausing the subscription
   *
   * @remarks
   * @Description Optional reason for the pause. Maximum 255 characters
   * @Example "Customer requested temporary suspension"
   */
  reason?: string | undefined;
};

/** @internal */
export type DtoPauseSubscriptionRequest$Outbound = {
  dry_run?: boolean | undefined;
  metadata?: { [k: string]: string } | undefined;
  pause_days?: number | undefined;
  pause_end?: string | undefined;
  pause_mode: string;
  pause_start?: string | undefined;
  reason?: string | undefined;
};

/** @internal */
export const DtoPauseSubscriptionRequest$outboundSchema: z.ZodMiniType<
  DtoPauseSubscriptionRequest$Outbound,
  DtoPauseSubscriptionRequest
> = z.pipe(
  z.object({
    dryRun: z.optional(z.boolean()),
    metadata: z.optional(z.record(z.string(), z.string())),
    pauseDays: z.optional(z.int()),
    pauseEnd: z.optional(z.string()),
    pauseMode: PauseMode$outboundSchema,
    pauseStart: z.optional(z.string()),
    reason: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      dryRun: "dry_run",
      pauseDays: "pause_days",
      pauseEnd: "pause_end",
      pauseMode: "pause_mode",
      pauseStart: "pause_start",
    });
  }),
);

export function dtoPauseSubscriptionRequestToJSON(
  dtoPauseSubscriptionRequest: DtoPauseSubscriptionRequest,
): string {
  return JSON.stringify(
    DtoPauseSubscriptionRequest$outboundSchema.parse(
      dtoPauseSubscriptionRequest,
    ),
  );
}
