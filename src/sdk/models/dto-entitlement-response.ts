/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import {
  DtoAddonResponse,
  DtoAddonResponse$inboundSchema,
} from "./dto-addon-response.js";
import {
  DtoFeatureResponse,
  DtoFeatureResponse$inboundSchema,
} from "./dto-feature-response.js";
import {
  DtoPlanResponse,
  DtoPlanResponse$inboundSchema,
} from "./dto-plan-response.js";
import {
  EntitlementEntityType,
  EntitlementEntityType$inboundSchema,
} from "./entitlement-entity-type.js";
import {
  EntitlementUsageResetPeriod,
  EntitlementUsageResetPeriod$inboundSchema,
} from "./entitlement-usage-reset-period.js";
import { FeatureType, FeatureType$inboundSchema } from "./feature-type.js";
import { SDKValidationError } from "./sdk-validation-error.js";
import { Status, Status$inboundSchema } from "./status.js";

export type DtoEntitlementResponse = {
  addon?: DtoAddonResponse | undefined;
  createdAt?: string | undefined;
  createdBy?: string | undefined;
  displayOrder?: number | undefined;
  endDate?: string | undefined;
  entityId?: string | undefined;
  entityType?: EntitlementEntityType | undefined;
  environmentId?: string | undefined;
  feature?: DtoFeatureResponse | undefined;
  featureId?: string | undefined;
  featureType?: FeatureType | undefined;
  id?: string | undefined;
  isEnabled?: boolean | undefined;
  isSoftLimit?: boolean | undefined;
  parentEntitlementId?: string | undefined;
  plan?: DtoPlanResponse | undefined;
  /**
   * TODO: Remove this once we have a proper entitlement entity type
   */
  planId?: string | undefined;
  startDate?: string | undefined;
  staticValue?: string | undefined;
  status?: Status | undefined;
  tenantId?: string | undefined;
  updatedAt?: string | undefined;
  updatedBy?: string | undefined;
  usageLimit?: number | undefined;
  usageResetPeriod?: EntitlementUsageResetPeriod | undefined;
};

/** @internal */
export const DtoEntitlementResponse$inboundSchema: z.ZodMiniType<
  DtoEntitlementResponse,
  unknown
> = z.pipe(
  z.object({
    addon: types.optional(z.lazy(() => DtoAddonResponse$inboundSchema)),
    created_at: types.optional(types.string()),
    created_by: types.optional(types.string()),
    display_order: types.optional(types.number()),
    end_date: types.optional(types.string()),
    entity_id: types.optional(types.string()),
    entity_type: types.optional(EntitlementEntityType$inboundSchema),
    environment_id: types.optional(types.string()),
    feature: types.optional(DtoFeatureResponse$inboundSchema),
    feature_id: types.optional(types.string()),
    feature_type: types.optional(FeatureType$inboundSchema),
    id: types.optional(types.string()),
    is_enabled: types.optional(types.boolean()),
    is_soft_limit: types.optional(types.boolean()),
    parent_entitlement_id: types.optional(types.string()),
    plan: types.optional(z.lazy(() => DtoPlanResponse$inboundSchema)),
    plan_id: types.optional(types.string()),
    start_date: types.optional(types.string()),
    static_value: types.optional(types.string()),
    status: types.optional(Status$inboundSchema),
    tenant_id: types.optional(types.string()),
    updated_at: types.optional(types.string()),
    updated_by: types.optional(types.string()),
    usage_limit: types.optional(types.number()),
    usage_reset_period: types.optional(
      EntitlementUsageResetPeriod$inboundSchema,
    ),
  }),
  z.transform((v) => {
    return remap$(v, {
      "created_at": "createdAt",
      "created_by": "createdBy",
      "display_order": "displayOrder",
      "end_date": "endDate",
      "entity_id": "entityId",
      "entity_type": "entityType",
      "environment_id": "environmentId",
      "feature_id": "featureId",
      "feature_type": "featureType",
      "is_enabled": "isEnabled",
      "is_soft_limit": "isSoftLimit",
      "parent_entitlement_id": "parentEntitlementId",
      "plan_id": "planId",
      "start_date": "startDate",
      "static_value": "staticValue",
      "tenant_id": "tenantId",
      "updated_at": "updatedAt",
      "updated_by": "updatedBy",
      "usage_limit": "usageLimit",
      "usage_reset_period": "usageResetPeriod",
    });
  }),
);

export function dtoEntitlementResponseFromJSON(
  jsonString: string,
): SafeParseResult<DtoEntitlementResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DtoEntitlementResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DtoEntitlementResponse' from JSON`,
  );
}
