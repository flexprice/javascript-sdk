/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import {
  TransactionReason,
  TransactionReason$outboundSchema,
} from "./transaction-reason.js";

export type DtoTopUpWalletRequest = {
  /**
   * amount is the amount in the currency of the wallet to be added
   *
   * @remarks
   * NOTE: this is not the number of credits to add, but the amount in the currency
   * amount = credits_to_add * conversion_rate
   * if both amount and credits_to_add are provided, amount will be ignored
   * ex if the wallet has a conversion_rate of 2 then adding an amount of
   * 10 USD in the wallet wil add 5 credits in the wallet
   */
  amount?: string | undefined;
  /**
   * credits_to_add is the number of credits to add to the wallet
   */
  creditsToAdd?: string | undefined;
  /**
   * description to add any specific details about the transaction
   */
  description?: string | undefined;
  /**
   * expiry_date_utc is the expiry date in UTC timezone
   *
   * @remarks
   * ex 2025-01-01 00:00:00 UTC
   */
  expiryDateUtc?: string | undefined;
  /**
   * idempotency_key is a unique key for the transaction
   */
  idempotencyKey?: string | undefined;
  metadata?: { [k: string]: string } | undefined;
  /**
   * priority is the priority of the transaction
   *
   * @remarks
   * lower number means higher priority
   * default is nil which means no priority at all
   */
  priority?: number | undefined;
  transactionReason: TransactionReason;
};

/** @internal */
export type DtoTopUpWalletRequest$Outbound = {
  amount?: string | undefined;
  credits_to_add?: string | undefined;
  description?: string | undefined;
  expiry_date_utc?: string | undefined;
  idempotency_key?: string | undefined;
  metadata?: { [k: string]: string } | undefined;
  priority?: number | undefined;
  transaction_reason: string;
};

/** @internal */
export const DtoTopUpWalletRequest$outboundSchema: z.ZodMiniType<
  DtoTopUpWalletRequest$Outbound,
  DtoTopUpWalletRequest
> = z.pipe(
  z.object({
    amount: z.optional(z.string()),
    creditsToAdd: z.optional(z.string()),
    description: z.optional(z.string()),
    expiryDateUtc: z.optional(z.string()),
    idempotencyKey: z.optional(z.string()),
    metadata: z.optional(z.record(z.string(), z.string())),
    priority: z.optional(z.int()),
    transactionReason: TransactionReason$outboundSchema,
  }),
  z.transform((v) => {
    return remap$(v, {
      creditsToAdd: "credits_to_add",
      expiryDateUtc: "expiry_date_utc",
      idempotencyKey: "idempotency_key",
      transactionReason: "transaction_reason",
    });
  }),
);

export function dtoTopUpWalletRequestToJSON(
  dtoTopUpWalletRequest: DtoTopUpWalletRequest,
): string {
  return JSON.stringify(
    DtoTopUpWalletRequest$outboundSchema.parse(dtoTopUpWalletRequest),
  );
}
