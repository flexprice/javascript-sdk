/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "./sdkvalidationerror.js";

export type DtoProrationDetails = {
  /**
   * charge_amount is the charge amount for the new subscription
   */
  chargeAmount?: string | undefined;
  /**
   * charge_description describes what the charge is for
   */
  chargeDescription?: string | undefined;
  /**
   * credit_amount is the credit amount from the old subscription
   */
  creditAmount?: string | undefined;
  /**
   * credit_description describes what the credit is for
   */
  creditDescription?: string | undefined;
  /**
   * currency is the currency for all amounts
   */
  currency?: string | undefined;
  /**
   * current_period_end is the end of the current billing period
   */
  currentPeriodEnd?: string | undefined;
  /**
   * current_period_start is the start of the current billing period
   */
  currentPeriodStart?: string | undefined;
  /**
   * days_remaining is the number of days remaining in the current period
   */
  daysRemaining?: number | undefined;
  /**
   * days_used is the number of days used in the current period
   */
  daysUsed?: number | undefined;
  /**
   * net_amount is the net amount (charge - credit)
   */
  netAmount?: string | undefined;
  /**
   * proration_date is the date used for proration calculations
   */
  prorationDate?: string | undefined;
};

/** @internal */
export const DtoProrationDetails$inboundSchema: z.ZodType<
  DtoProrationDetails,
  z.ZodTypeDef,
  unknown
> = z.object({
  charge_amount: z.string().optional(),
  charge_description: z.string().optional(),
  credit_amount: z.string().optional(),
  credit_description: z.string().optional(),
  currency: z.string().optional(),
  current_period_end: z.string().optional(),
  current_period_start: z.string().optional(),
  days_remaining: z.number().int().optional(),
  days_used: z.number().int().optional(),
  net_amount: z.string().optional(),
  proration_date: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    "charge_amount": "chargeAmount",
    "charge_description": "chargeDescription",
    "credit_amount": "creditAmount",
    "credit_description": "creditDescription",
    "current_period_end": "currentPeriodEnd",
    "current_period_start": "currentPeriodStart",
    "days_remaining": "daysRemaining",
    "days_used": "daysUsed",
    "net_amount": "netAmount",
    "proration_date": "prorationDate",
  });
});

export function dtoProrationDetailsFromJSON(
  jsonString: string,
): SafeParseResult<DtoProrationDetails, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => DtoProrationDetails$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'DtoProrationDetails' from JSON`,
  );
}
